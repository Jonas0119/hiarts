const messages = {
  'zh-Hans': {
    common: {
      loading: '加载中...',
      success: '操作成功',
      choseAdd: '请选择收货地址'
    },
    index: {
      all: '全部'
    },
    goodsList: {
      wait: '等待',
      unit: '件',
      privce: '价格',
      unbuy: '未开始',
      buying: '进行中',
      stopbuy: '已结束'
    },
    goodsDetail: {
      saleTime: '销售时间',
      saleProgress: '销售进度',
      goodPrice: '商品价格',
      num: '数量',
      shopinfor: '商家信息',
      shotContent: '商品简介',
      tips: '购买须知',
      description: '商品详情',
      buyNum: '购买数量',
      buy: '立即购买',
      success: '支付成功',
      backhome: '返回首页'
    },
    order: {
      pay: '支付金额',
      getAddress: '收货地址',
      choseAdd: '选择地址',
      submit: '提交订单',
      unget: '待收货',
      unsend: '待发货',
      sended: '已发货',
      done: '已完成'
    },
    mine: {
      login: '点击登录',
      myOrder: '我的订单',
      address: '收货地址',
      invite: '邀请',
      settings: '设置',
      about: '关于我们',
      addAddress: '添加新地址',
      editAddress: '编辑地址',
      receiveName: '收货人',
      receivePhone: '联系电话',
      receiveAddress: '详细地址',
      save: '保存',
      delete: '删除',
      inviteCode: '邀请码',
      copyCode: '复制邀请码',
      inviteLink: '邀请链接',
      copyLink: '复制链接',
      inviteQrcode: '邀请二维码',
      saveQrcode: '保存二维码',
      orderStatus: {
        all: '全部',
        unpaid: '待付款',
        unshipped: '待发货',
        shipped: '待收货',
        completed: '已完成'
      },
      orderInfo: {
        orderNo: '订单编号',
        orderTime: '下单时间',
        orderAmount: '订单金额',
        orderStatus: '订单状态',
        logistics: '物流信息',
        confirm: '确认收货'
      },
      settings: {
        logout: '退出登录',
        language: '语言设置',
        notification: '通知',
        clearCache: '清除缓存',
        cacheSize: '缓存大小',
        version: '版本',
        checkUpdate: '检查更新',
        updateAvailable: '发现新版本',
        updateConfirm: '是否更新到最新版本？',
        updateSuccess: '更新成功',
        updateFailed: '更新失败',
        privacy: '隐私政策',
        terms: '使用条款',
      }
    }
  },
  'zh-Hant': {
    common: {
      loading: '加載中...',
      success: '操作成功',
      choseAdd: '請選擇收貨地址'
    },
    index: {
      all: '全部'
    },
    goodsList: {
      wait: '等待',
      unit: '件',
      privce: '價格',
      unbuy: '未開始',
      buying: '進行中',
      stopbuy: '已結束'
    },
    goodsDetail: {
      saleTime: '銷售時間',
      saleProgress: '銷售進度',
      goodPrice: '商品價格',
      num: '數量',
      shopinfor: '商家信息',
      shotContent: '商品簡介',
      tips: '購買須知',
      description: '商品詳情',
      buyNum: '購買數量',
      buy: '立即購買',
      success: '支付成功',
      backhome: '返回首頁'
    },
    order: {
      pay: '支付金額',
      getAddress: '收貨地址',
      choseAdd: '選擇地址',
      submit: '提交訂單',
      unget: '待收貨',
      unsend: '待發貨',
      sended: '已發貨',
      done: '已完成'
    },
    mine: {
      login: '點擊登錄',
      myOrder: '我的訂單',
      address: '收貨地址',
      invite: '邀請',
      settings: '設置',
      about: '關於我們',
      addAddress: '添加新地址',
      editAddress: '編輯地址',
      receiveName: '收貨人',
      receivePhone: '聯繫電話',
      receiveAddress: '詳細地址',
      save: '保存',
      delete: '刪除',
      inviteCode: '邀請碼',
      copyCode: '複製邀請碼',
      inviteLink: '邀請鏈接',
      copyLink: '複製鏈接',
      inviteQrcode: '邀請二維碼',
      saveQrcode: '保存二維碼',
      orderStatus: {
        all: '全部',
        unpaid: '待付款',
        unshipped: '待發貨',
        shipped: '待收貨',
        completed: '已完成'
      },
      orderInfo: {
        orderNo: '訂單編號',
        orderTime: '下單時間',
        orderAmount: '訂單金額',
        orderStatus: '訂單狀態',
        logistics: '物流信息',
        confirm: '確認收貨'
      }
    }
  },
  'en': {
    common: {
      loading: 'Loading...',
      success: 'Success',
      choseAdd: 'Please select shipping address'
    },
    index: {
      all: 'All'
    },
    goodsList: {
      wait: 'Wait',
      unit: 'pcs',
      privce: 'Price',
      unbuy: 'Not Started',
      buying: 'In Progress',
      stopbuy: 'Ended'
    },
    goodsDetail: {
      saleTime: 'Sale Time',
      saleProgress: 'Sale Progress',
      goodPrice: 'Price',
      num: 'Quantity',
      shopinfor: 'Merchant Info',
      shotContent: 'Description',
      tips: 'Purchase Notes',
      description: 'Details',
      buyNum: 'Purchase Quantity',
      buy: 'Buy Now',
      success: 'Payment Success',
      backhome: 'Back to Home'
    },
    order: {
      pay: 'Payment Amount',
      getAddress: 'Shipping Address',
      choseAdd: 'Select Address',
      submit: 'Submit Order',
      unget: 'To Receive',
      unsend: 'To Ship',
      sended: 'Shipped',
      done: 'Completed'
    },
    mine: {
      login: 'Click to Login',
      myOrder: 'My Orders',
      address: 'Shipping Address',
      invite: 'Invite',
      settings: 'Settings',
      about: 'About Us',
      addAddress: 'Add New Address',
      editAddress: 'Edit Address',
      receiveName: 'Recipient',
      receivePhone: 'Phone',
      receiveAddress: 'Address',
      save: 'Save',
      delete: 'Delete',
      inviteCode: 'Invite Code',
      copyCode: 'Copy Code',
      inviteLink: 'Invite Link',
      copyLink: 'Copy Link',
      inviteQrcode: 'QR Code',
      saveQrcode: 'Save QR Code',
      orderStatus: {
        all: 'All',
        unpaid: 'Unpaid',
        unshipped: 'To Ship',
        shipped: 'Shipped',
        completed: 'Completed'
      },
      orderInfo: {
        orderNo: 'Order No.',
        orderTime: 'Order Time',
        orderAmount: 'Amount',
        orderStatus: 'Status',
        logistics: 'Logistics',
        confirm: 'Confirm Receipt'
      }
    }
  }
}

let currentLocale = wx.getStorageSync('locale') || 'zh-Hans'

const t = function(key) {
  const keys = key.split('.')
  let value = messages[currentLocale]
  
  for (const k of keys) {
    if (value && value[k]) {
      value = value[k]
    } else {
      value = key
      break
    }
  }
  
  return value
}

const setLocale = function(locale) {
  if (messages[locale]) {
    currentLocale = locale
    wx.setStorageSync('locale', locale)
  }
}

const getLocale = function() {
  return currentLocale
}

export {
  t,
  setLocale,
  getLocale
}
